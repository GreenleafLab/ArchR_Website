<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing single-cell regulatory chromatin in R. • ArchR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Analyzing single-cell regulatory chromatin in R.">
<meta property="og:description" content="This package is designed to streamline scATAC analyses in R.">
<meta property="og:image" content="https://www.ArchRProject.com/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158769145-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158769145-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ArchR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li>
  <a href="articles/Articles/tutorial.html">
    <span class="fa fa-graduation-cap"></span>

    Quick Tutorial
  </a>
</li>
<li>
  <a href="bookdown/index.html">
    <span class="fa fa-file-text-o"></span>

    Full Manual
  </a>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-code"></span>

    Functions
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/GreenleafLab/ArchR" class="external-link">
    <span class="fa fa-github"></span>

    ArchR on GitHub
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>

    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="section">
<img src="reference/figures/ArchR_Logo_Integrated.png" alt="" width="200"><a class="anchor" aria-label="anchor" href="#section"></a>
</h1></div>
<p>ArchR is a full-featured R package for processing and analyzing single-cell ATAC-seq data. ArchR provides the most extensive suite of scATAC-seq analysis tools of any software available. Additionally, ArchR excels in both speed and resource usage, making it possible to analyze 1 million cells in 8 hours on a MacBook Pro laptop.</p>
<p>To get started, we recommend running through <a href="articles/Articles/tutorial.html">the brief ArchR tutorial</a>. For a detailed description of all of the features of ArchR applied to a test dataset of hematopoietic cells, please see the searchable <a href="bookdown/index.html">full manual</a>. If you havent already done so, we also recommend reading <a href="https://www.nature.com/articles/s41588-021-00790-6" class="external-link">the publication</a> to get a better idea of what ArchR can do.</p>
<hr>
</div>
<div class="section level1">
<h1 id="installation-of-archr">Installation of ArchR<a class="anchor" aria-label="anchor" href="#installation-of-archr"></a>
</h1>
<p><strong>ArchR is designed to be run on Unix-based operating systems such as macOS and linux. ArchR is NOT supported on Windows or other operating systems.</strong></p>
<p>ArchR installation currently requires <code>devtools</code> and <code>BiocManager</code> for installation of GitHub and Bioconductor packages. We highly encourage all users to utilize the <code>renv</code> environment and R version that have been confirmed to be functional with each stable release. This ensures that there are no incompatibilities between package dependencies. See <a href="bookdown/manage-archrs-dependencies.html">this page of the full manual</a> for full instructions.</p>
<p>If you do not wish to use the provided stable environment, then you would follow the below commands to install ArchR and its various dependencies:</p>
<p>First, install devtools (for installing GitHub packages) if it isn’t already installed:</p>
<pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span></code></pre>
<p>Then, install BiocManager (for installing bioconductor packages) if it isn’t already installed:</p>
<pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span></span></code></pre>
<p>Then, install ArchR:</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"GreenleafLab/ArchR"</span>, ref<span class="op">=</span><span class="st">"master"</span>, repos <span class="op">=</span> <span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://bioconductor.github.io/BiocManager/reference/repositories.html" class="external-link">repositories</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>Lastly, install all of the ArchR dependencies that arent installed by default:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.ArchRProject.com">ArchR</a></span><span class="op">)</span></span>
<span><span class="fu">ArchR</span><span class="fu">::</span><span class="fu"><a href="reference/installExtraPackages.html">installExtraPackages</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>If any of these steps fails, you should identify the offending package and troubleshoot that individual installation before proceeding. The one exception is <code>Cairo</code> (see below) which is installed by the <code><a href="reference/installExtraPackages.html">ArchR::installExtraPackages()</a></code> function. <code>Cairo</code> is not required but is highly recommended.</p>
<p>It is also highly recommended that you <a href="https://github.com/taoliu/MACS/blob/master/INSTALL.md" class="external-link">install MACS2</a>, which requires python, and have the <code>macs2</code> executable in your <code>PATH</code> variable. This will allow ArchR to call peaks using MACS2.</p>
<p><strong>If you are installing on macOS</strong> <br> 1. You will need a current version of GNU Fortran (gfortran). You can download and install the <code>.dmg</code> file from <a href="https://github.com/fxcoudert/gfortran-for-macOS/releases" class="external-link">the gfortran github page</a>. 2. You will need a current version of XQuartz. You can download and install the <code>.dmg</code> file from <a href="https://www.xquartz.org/" class="external-link">the XQuartz project page</a>.</p>
<div class="section level3">
<h3 id="known-trouble-spots-for-installation">Known trouble spots for installation<a class="anchor" aria-label="anchor" href="#known-trouble-spots-for-installation"></a>
</h3>
<p><strong>Cairo graphics library</strong> <br> ArchR uses <code>Cairo</code> to <a href="https://en.wikipedia.org/wiki/Rasterisation" class="external-link">rasterize</a> plots. <code>Cairo</code> can be tricky to install depending on your system and we have had multiple reports of installation issues related to <code>Cairo</code>. We have removed the dependency on <code>Cairo</code> and ArchR will run fine without it but output plots will be vectorized and difficult to edit due to the presence of thousands of individual dots for the cells.</p>
<p><strong>General problems encountered</strong> <br> 1. Some of the dependencies in ArchR require the <a href="https://www.gnu.org/software/gsl/" class="external-link">GNU Scientific Library (GSL)</a>, for example the <code>DirichletMultinomial</code> package. Instructions for installing GSL are shown <a href="https://github.com/GreenleafLab/ArchR/issues/86" class="external-link">in this issue</a>.</p>
<p><strong>If you have installed R through Conda</strong>, we have had reports of compile errors when installing ArchR that can be fixed by running <code>Sys.setenv(CONDA_BUILD_SYSROOT="/")</code> prior to executing the <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">devtools::install_github()</a></code> command as outlined in <a href="https://stackoverflow.com/questions/53637414/conda-build-r-package-fails-at-c-compiler-issue-on-macos-mojave" class="external-link">this post</a>.</p>
<hr>
</div>
</div>
<div class="section level1">
<h1 id="the-archr-workflow">The ArchR Workflow<a class="anchor" aria-label="anchor" href="#the-archr-workflow"></a>
</h1>
<p><img src="reference/figures/ArchR_Workflow_Horizontal.png" alt=""></p>
<hr>
<div class="section level3">
<h3 id="previous-versions-of-archr-documentation">Previous versions of ArchR documentation<a class="anchor" aria-label="anchor" href="#previous-versions-of-archr-documentation"></a>
</h3>
<p>If you are using a version of ArchR other than the one shown at the top of this page, you can access previous versions of the ArchR documentation at the links below. Note that these snapshots only began in earnest as of ArchR version <code>1.0.3</code>.</p>
<a href="archive/1.0.1/index.html">v1.0.1</a>
<hr>
</div>
</div>
<div class="section level1">
<h1 id="how-to-cite-archr">How to cite ArchR?<a class="anchor" aria-label="anchor" href="#how-to-cite-archr"></a>
</h1>
<p>ArchR is published in Nature Genetics! You can find the publication <a href="https://www.nature.com/articles/s41588-021-00790-6" class="external-link">here</a>.</p>
<p>Granja JM<em>, Corces MR</em> et al., ArchR is a scalable software package for integrative single-cell chromatin accessibility analysis. Nature Genetics (2021)</p>
<p><a href="extras/ArchR_Citation.ris">Download an RIS-format citation file here</a>.</p>
<p>Looking for scripts related to the publication? Check out the <a href="https://github.com/GreenleafLab/ArchR_2020" class="external-link">GitHub page for the publication</a>.</p>
</div>
<div class="section level1">
<h1 id="issues-using-archr">Issues using ArchR?<a class="anchor" aria-label="anchor" href="#issues-using-archr"></a>
</h1>
<p>If you have questions about ArchR usage, please refer to the <a href="https://www.archrproject.com/bookdown/index.html" class="external-link">the searchable full user’s manual</a>, <a href="https://www.archrproject.com/articles/Articles/faq.html" class="external-link">the FAQ section</a>, and the <a href="https://www.nature.com/articles/s41588-021-00790-6" class="external-link">publication</a>. If you think the documentation on this website or in the function annotations is unclear, please <a href="https://github.com/GreenleafLab/ArchR/discussions" class="external-link">post to the Github Discussions forum</a> with the <strong>Q&amp;A</strong> form. If there is a feature that you think is missing from ArchR <em>and you have already searched the user’s manual</em>, <a href="https://github.com/GreenleafLab/ArchR/discussions" class="external-link">post to the Github Discussions forum</a> with the <strong>Ideas</strong> form. If none of these options help, <a href="mailto:archr.devs@gmail.com">send us an email</a>. We will do our best to respond to questions that are not otherwise answered in the documentation.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a></li>
</ul>
</div>


<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://twitter.com/JeffreyGranja" class="external-link">Jeffrey Granja</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://twitter.com/doctorcorces" class="external-link">Ryan Corces</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://twitter.com/paulinapaiz02" class="external-link">Paulina Paiz</a> <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://github.com/immanuelazn" class="external-link">Immanuel Abdi</a> <br><small class="roles"> Author, contributor </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://twitter.com/JeffreyGranja" class="external-link">Jeffrey Granja</a>, <a href="https://twitter.com/doctorcorces" class="external-link">Ryan Corces</a>, <a href="https://twitter.com/paulinapaiz02" class="external-link">Paulina Paiz</a>, <a href="https://github.com/immanuelazn" class="external-link">Immanuel Abdi</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '252c2c36fedc32b3ed803d0db4877b96',
    indexName: 'archr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
