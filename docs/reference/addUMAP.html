<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add a UMAP embedding of a reduced dimensions object to an ArchRProject — addUMAP • ArchR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Add a UMAP embedding of a reduced dimensions object to an ArchRProject — addUMAP" />

<meta property="og:description" content="This function will compute a UMAP embedding and add it to an ArchRProject." />

<meta property="og:image" content="https://greenleaflab.github.io/ArchR_Website/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158769145-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158769145-1');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ArchR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Articles/tutorial.html">
    <span class="fa fa-graduation-cap"></span>
     
    Quick Tutorial
  </a>
</li>
<li>
  <a href="../bookdown/index.html">
    <span class="fa fa-file-text-o"></span>
     
    Full Manual
  </a>
</li>
<li>
  <a href="../articles/Articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    FAQ
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-code"></span>
     
    Functions
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GreenleafLab/ArchR">
    <span class="fa fa-github"></span>
     
    ArchR on GitHub
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a UMAP embedding of a reduced dimensions object to an ArchRProject</h1>
    
    <div class="hidden name"><code>addUMAP.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function will compute a UMAP embedding and add it to an ArchRProject.</p>
    
    </div>

    <pre class="usage"><span class='fu'>addUMAP</span>(
  <span class='kw'>ArchRProj</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>reducedDims</span> <span class='kw'>=</span> <span class='st'>"IterativeLSI"</span>,
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"UMAP"</span>,
  <span class='kw'>nNeighbors</span> <span class='kw'>=</span> <span class='fl'>40</span>,
  <span class='kw'>minDist</span> <span class='kw'>=</span> <span class='fl'>0.4</span>,
  <span class='kw'>metric</span> <span class='kw'>=</span> <span class='st'>"cosine"</span>,
  <span class='kw'>dimsToUse</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scaleDims</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>corCutOff</span> <span class='kw'>=</span> <span class='fl'>0.75</span>,
  <span class='kw'>sampleCells</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>outlierQuantile</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
  <span class='kw'>saveModel</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>threads</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='no'>...</span>
)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ArchRProj</th>
      <td><p>An <code>ArchRProject</code> object.</p></td>
    </tr>
    <tr>
      <th>reducedDims</th>
      <td><p>The name of the <code>reducedDims</code> object (i.e. "IterativeLSI") to use from the designated <code>ArchRProject</code>.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>The name for the UMAP embedding to store in the given <code>ArchRProject</code> object.</p></td>
    </tr>
    <tr>
      <th>nNeighbors</th>
      <td><p>An integer describing the number of nearest neighbors to compute a UMAP. This argument is passed to <code>n_neighbors</code> in <code><a href='https://rdrr.io/pkg/uwot/man/umap.html'>uwot::umap()</a></code>.</p></td>
    </tr>
    <tr>
      <th>minDist</th>
      <td><p>A number that determines how tightly the UMAP is allowed to pack points together. This argument is passed to <code>min_dist</code> in
<code><a href='https://rdrr.io/pkg/uwot/man/umap.html'>uwot::umap()</a></code>. For more info on this see https://jlmelville.github.io/uwot/abparams.html.</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>A number that determines how distance is computed in the <code>reducedDims</code> to compute a UMAP. This argument is passed to <code>metric</code> in <code><a href='https://rdrr.io/pkg/uwot/man/umap.html'>uwot::umap()</a></code>.</p></td>
    </tr>
    <tr>
      <th>dimsToUse</th>
      <td><p>A vector containing the dimensions from the <code>reducedDims</code> object to use in computing the embedding.</p></td>
    </tr>
    <tr>
      <th>scaleDims</th>
      <td><p>A boolean value that indicates whether to z-score the reduced dimensions for each cell. This is useful for minimizing
the contribution of strong biases (dominating early PCs) and lowly abundant populations. However, this may lead to stronger sample-specific
biases since it is over-weighting latent PCs. If set to <code>NULL</code> this will scale the dimensions based on the value of <code>scaleDims</code> when the
<code>reducedDims</code> were originally created during dimensionality reduction. This idea was introduced by Timothy Stuart.</p></td>
    </tr>
    <tr>
      <th>corCutOff</th>
      <td><p>A numeric cutoff for the correlation of each dimension to the sequencing depth. If the dimension has a correlation to
sequencing depth that is greater than the <code>corCutOff</code>, it will be excluded from analysis.</p></td>
    </tr>
    <tr>
      <th>sampleCells</th>
      <td><p>An integer specifying the number of cells to subsample and perform UMAP Embedding on. The remaining cells
that were not subsampled will be re-projected using uwot::umap_transform to the UMAP Embedding. This enables a decrease in run time
and memory but can lower the overal quality of the UMAP Embedding. Only recommended for extremely large number of cells.</p></td>
    </tr>
    <tr>
      <th>outlierQuantile</th>
      <td><p>A numeric (0 to 1) describing the distance quantile in the subsampled cels (see <code>sampleCells</code>) to use to filter poor quality re-projections.
This is necessary because there are lots of outliers if undersampled significantly.</p></td>
    </tr>
    <tr>
      <th>saveModel</th>
      <td><p>A boolean value indicating whether or not to save the UMAP model in an RDS file for downstream usage such as projection of data into the UMAP embedding.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A boolean value that indicates whether printing UMAP output.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>A number to be used as the seed for random number generation. It is recommended to keep track of the seed used so that you can
reproduce results downstream.</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>A boolean value that indicates whether to overwrite the relevant data in the <code>ArchRProject</code> object if the embedding indicated by
<code>name</code> already exists.</p></td>
    </tr>
    <tr>
      <th>threads</th>
      <td><p>The number of threads to be used for parallel computing. Default set to 1 because if set to high can cause C stack usage errors.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional parameters to pass to <code><a href='https://rdrr.io/pkg/uwot/man/umap.html'>uwot::umap()</a></code></p></td>
    </tr>
    </table>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
                </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://twitter.com/JeffreyGranja'>Jeffrey Granja</a>, <a href='https://twitter.com/doctorcorces'>Ryan Corces</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '252c2c36fedc32b3ed803d0db4877b96',
    indexName: 'archr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


